@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: 'Space Grotesk', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.beans-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 24px;
  width: 100%;
  margin: 48px auto 48px auto;
  padding: 0;
  box-sizing: border-box;
}

.bean-img {
  width: 96px;
  height: auto;
  max-width: 28vw;
  flex-shrink: 1;
  display: block;
}

.arrow-btn {
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  border: none;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  cursor: pointer;
  font-size: 1.5rem;
}

@media (max-width: 600px) {
  .beans-row {
    gap: 12px;
    width: 100%;
    padding: 0 4vw;
  }
  .bean-img {
    width: 72px;
    max-width: 32vw;
  }
  .arrow-btn {
    width: 32px;
    height: 32px;
    font-size: 1.1rem;
  }
  .text-left, .text-right {
    text-align: left !important;
  }
  .font-extrabold.text-3xl, .font-extrabold.text-4xl, .font-bold.text-2xl {
    font-size: 1.5rem !important;
  }
  .md\:w-40, .md\:w-56, .md\:w-72 {
    width: 32vw !important;
    min-width: 80px;
  }
  .w-24, .md\:w-32, .md\:w-40, .w-28, .md\:w-44 {
    width: 18vw !important;
    min-width: 48px;
    max-width: 80px;
  }
  .max-w-\[340px\] {
    max-width: 92vw !important;
  }
  .w-\[55vw\], .w-\[60vw\], .w-\[48vw\], .w-\[38vw\], .max-w-\[420px\], .max-w-\[500px\], .max-w-\[360px\], .max-w-\[320px\], .max-w-\[540px\] {
    max-width: 90vw !important;
    width: 55vw !important;
    min-width: 80px;
  }
  .max-w-\[360px\] {
    max-width: 96vw !important;
  }
  .w-\[75vw\], .w-\[70vw\], .w-\[65vw\], .w-\[68vw\], .w-\[72vw\], .w-\[55vw\] {
    width: 95vw !important;
    max-width: none !important;
  }
  
  .left-\[-25vw\], .right-\[-28vw\], .right-\[-22vw\], .right-\[-15vw\] {
    left: -15vw !important;
    right: -15vw !important;
  }
  
  .backdrop-blur-sm {
    backdrop-filter: blur(8px);
  }
  
  .w-\[85vw\], .w-\[82vw\], .w-\[80vw\], .w-\[65vw\] {
    width: 120vw !important;
    max-width: none !important;
  }
  
  .left-\[-35vw\], .left-\[-32vw\], .right-\[-45vw\] {
    left: -45vw !important;
    right: -45vw !important;
  }
  
  .max-w-\[300px\] {
    max-width: 85vw !important;
    background-color: rgba(255, 255, 255, 0.9) !important;
  }
}

/* 響應式設計基本設置 */
:root {
  --mobile-breakpoint: 576px;
  --tablet-breakpoint: 992px;
}

.responsive-wrapper {
  width: 100%;
  margin: 0 auto;
  padding: 0 15px;
  box-sizing: border-box;
}

/* 手機設備（576px以下） */
@media (max-width: 575.98px) {
  .responsive-wrapper {
    max-width: 100%;
  }
  
  /* 調整字體大小以適應小屏幕 */
  h1 {
    font-size: 1.5rem;
  }
  
  h2 {
    font-size: 1.3rem;
  }
  
  p, li {
    font-size: 0.9rem;
  }
  
  /* 確保圖片不會溢出容器 */
  img, svg {
    max-width: 100%;
    height: auto;
  }
  
  /* 對於特定設備類型的額外樣式 */
  .device-mobile .menu-page {
    flex-direction: column;
  }
  
  /* 避免在手機上的內容擁擠 */
  .device-mobile .menu-item {
    margin-bottom: 1.5rem;
  }
  
  /* 調整底部文字位置，確保不被圖片遮擋 */
  .right-\[5\%\].bottom-\[8\%\] {
    bottom: 12% !important;
    right: 5% !important;
  }
  
  /* 確保葡萄圖在小屏幕上的位置 */
  .w-\[45vw\].right-\[-8\%\].top-\[38\%\] {
    width: 40vw !important;
    right: -5% !important;
  }
  
  /* 確保甘藍圖在小屏幕上的位置 */
  .w-\[55vw\].left-\[-20\%\].bottom-\[-25\%\] {
    width: 60vw !important;
    left: -25% !important;
    bottom: -30% !important;
  }
}

/* 平板設備（576px - 991.98px） */
@media (min-width: 576px) and (max-width: 991.98px) {
  .responsive-wrapper {
    max-width: 720px;
  }
  
  /* 平板上的特定樣式 */
  .device-tablet .menu-page {
    gap: 1rem;
  }
}

/* 桌面設備（992px及以上） */
@media (min-width: 992px) {
  .responsive-wrapper {
    max-width: 1140px;
  }
  
  /* 桌面版圖片尺寸 */
  .w-52.md\:w-64 {
    width: 16rem !important;
  }
  
  .w-\[48vw\].max-w-\[380px\] {
    width: 25vw !important;
    max-width: 420px !important;
  }
  
  .w-\[60vw\].max-w-\[520px\] {
    width: 32vw !important;
    max-width: 560px !important;
  }
}

@media (max-width: 767.98px) {
  /* 移動版圖片位置微調 */
  .right-\[3\%\].top-\[35\%\] {
    right: 0% !important;
  }
  
  .left-\[-10\%\].bottom-\[-10\%\] {
    left: -5% !important;
    bottom: -5% !important;
  }
  
  .right-\[-2\%\].top-\[-2\%\] {
    right: 0% !important;
    top: 0% !important;
  }
}

/* 確保圖片和文字不會重疊的通用規則 */
.menu-item {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  overflow: hidden;
}

.menu-image-container {
  position: relative;
  overflow: hidden;
}

.menu-text-container {
  /* 確保文字不會覆蓋圖片 */
  position: relative;
  z-index: 2;
  background-color: rgba(255, 255, 255, 0.9); /* 輕微的白色背景確保文字可讀性 */
  padding: 0.5rem;
  border-radius: 4px;
}

/* 提高文字可讀性的通用類 */
.text-with-shadow {
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 
               0 0 20px rgba(255, 255, 255, 0.6), 
               0 0 30px rgba(255, 255, 255, 0.4);
}

/* 確保所有頁面上的主要內容始終可見 */
.menu-pager .main-content {
  position: relative;
  z-index: 25;
}

/* 輕微模糊背景，使文字更易讀但不會完全覆蓋圖片 */
.backdrop-blur-xs {
  backdrop-filter: blur(1px);
  -webkit-backdrop-filter: blur(1px);
}

/* 微妙的空間調整，確保移動設備上的元素間距合適 */
@media (max-width: 575.98px) {
  .responsive-wrapper .text-container {
    margin: 0.5rem 0;
    padding: 0.25rem;
    max-width: 90vw;
  }
  
  /* 調整小螢幕上的絕對定位元素 */
  .responsive-wrapper .absolute-element {
    transform: scale(0.85);
  }
  
  /* 確保小螢幕上的垂直間距 */
  .menu-item {
    margin-bottom: 1rem;
  }
}

/* 平板設備額外調整 */
@media (min-width: 576px) and (max-width: 991.98px) {
  .responsive-wrapper .image-container {
    transform: scale(0.9);
  }
}

/* 確保頁面導航按鈕始終可見和可點擊 */
.arrow-btn {
  z-index: 50 !important;
}

/* 修正可能的 SVG 溢出問題 */
svg, img {
  max-width: 100%;
  height: auto;
}

/* 保留文本周圍的透明空間 */
.text-safe-area {
  position: relative;
  z-index: 30;
  padding: 0.5rem;
  margin: 0.5rem 0;
  border-radius: 0.25rem;
}

/* 添加極輕微的模糊效果，增強文字可讀性 */
.text-readable {
  position: relative;
}

.text-readable::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  backdrop-filter: blur(1.5px);
  -webkit-backdrop-filter: blur(1.5px);
  z-index: -1;
  border-radius: 4px;
  opacity: 0.4;
}

/* 確保在複雜背景上的文字清晰可見 - 加強移動設備上的效果 */
@media (max-width: 767.98px) {
  .text-shadow-light {
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.85),
                 0 0 24px rgba(255, 255, 255, 0.7),
                 0 0 36px rgba(255, 255, 255, 0.6);
  }
}

/* 為深色文字添加淺色陰影 */
.text-shadow-clear {
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8),
               -1px -1px 2px rgba(255, 255, 255, 0.8),
               1px -1px 2px rgba(255, 255, 255, 0.8),
               -1px 1px 2px rgba(255, 255, 255, 0.8);
}

/* 第 3 頁圖片位置調整 - 讓圖片更明顯 */
@media (min-width: 768px) {
  /* 中等屏幕及以上的圖片放大 */
  .w-48.md\:w-60 {
    width: 14rem !important;
  }
  
  .w-\[45vw\].max-w-\[360px\].right-\[0\%\] {
    width: 40vw !important;
    max-width: 400px !important;
  }
  
  .w-\[58vw\].max-w-\[480px\] {
    width: 50vw !important;
    max-width: 500px !important;
  }
}

/* 針對小屏幕優化圖片位置 */
@media (max-width: 767.98px) {
  /* 甜菜根 */
  .w-48.md\:w-60.right-\[-5\%\].top-\[-2\%\] {
    width: 9rem !important;
    right: -2% !important;
    top: 0% !important;
  }
  
  /* 葡萄 */
  .w-\[45vw\].max-w-\[360px\].right-\[0\%\].top-\[38\%\] {
    width: 42vw !important;
    right: 0% !important;
    top: 40% !important;
  }
  
  /* 紫甘藍 */
  .w-\[58vw\].max-w-\[480px\].left-\[-15\%\].bottom-\[-15\%\] {
    width: 55vw !important;
    left: -10% !important;
    bottom: -10% !important;
  }
  
  /* 右下文字區塊 */
  .right-\[2\%\].bottom-\[12\%\] {
    right: 4% !important;
    bottom: 15% !important;
    max-width: 50% !important;
  }
}

/* 優化打字效果的性能 */
.typewriter-optimized {
  will-change: contents;
  transform: translateZ(0);
}

/* 強力文字陰影效果，在任何背景上都清晰可見 */
.text-shadow-strong {
  text-shadow: 
    2px 2px 0 white,
    -2px 2px 0 white,
    2px -2px 0 white,
    -2px -2px 0 white,
    0 2px 0 white,
    2px 0 0 white,
    0 -2px 0 white,
    -2px 0 0 white;
}

/* 為小尺寸屏幕調整文字陰影 */
@media (max-width: 767.98px) {
  .text-shadow-strong {
    text-shadow: 
      1.5px 1.5px 0 white,
      -1.5px 1.5px 0 white,
      1.5px -1.5px 0 white,
      -1.5px -1.5px 0 white,
      0 1.5px 0 white,
      1.5px 0 0 white,
      0 -1.5px 0 white,
      -1.5px 0 0 white;
  }
}

/* 第 4 頁特定樣式 - 瓶子與文字位置調整 */
@media (max-width: 767.98px) {
  /* 減小瓶子的大小並調整位置 */
  .w-\[45vw\].max-w-\[400px\] {
    width: 40vw !important; 
    right: -5% !important;
  }
  
  /* 確保文字與瓶子之間的間距足夠 */
  .pr-\[35vw\] {
    padding-right: 25vw !important;
  }
  
  /* 減小字體大小，確保在小屏幕上不會過大 */
  .text-\[clamp\(2\.5rem\,8vw\,4rem\)\] {
    font-size: clamp(2rem, 6vw, 3.5rem) !important;
  }
  
  .text-\[clamp\(1\.3rem\,4vw\,1\.8rem\)\] {
    font-size: clamp(1rem, 3vw, 1.4rem) !important;
  }
}

/* 進一步為極小屏幕優化 */
@media (max-width: 375px) {
  .pr-\[35vw\] {
    padding-right: 20vw !important;
  }
  
  .w-\[45vw\].max-w-\[400px\] {
    width: 35vw !important;
    opacity: 0.9 !important; /* 略微降低不透明度 */
  }
}

/* 確保大屏幕上的排版更加寬敞 */
@media (min-width: 1200px) {
  .pr-\[35vw\].md\:pr-\[30vw\].lg\:pr-\[25vw\] {
    padding-right: 20vw !important;
  }
  
  .w-\[45vw\].max-w-\[400px\] {
    max-width: 450px !important;
    right: 5% !important;
  }
}
